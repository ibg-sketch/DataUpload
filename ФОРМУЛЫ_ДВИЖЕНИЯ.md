# üìä –§–û–†–ú–£–õ–´ –ü–†–ï–î–°–ö–ê–ó–ê–ù–ò–Ø –¶–ï–ù–û–í–û–ì–û –î–í–ò–ñ–ï–ù–ò–Ø

## –û–±–∑–æ—Ä
–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–Ω—ã:
1. **–ë–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç** ‚Äî –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞ (ATR)
2. **–ú—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä** ‚Äî —Å–∏–ª–∞ —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π

---

## üéØ –û–°–ù–û–í–ù–ê–Ø –§–û–†–ú–£–õ–ê (Scalping –º–æ–Ω–µ—Ç—ã)

### –®–ê–ì 1: –†–∞—Å—á–µ—Ç –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∞

```
BASE_TARGET_PCT = (ATR_14 / Price) √ó 100%
```

**–ì–¥–µ:**
- `ATR_14` ‚Äî Average True Range –∑–∞ 14 —Å–≤–µ—á–µ–π (—Ä–µ–∞–ª—å–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å)
- `Price` ‚Äî —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –∞–∫—Ç–∏–≤–∞
- –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º **0.2% - 2.0%**

**–ü—Ä–∏–º–µ—Ä –¥–ª—è BTCUSDT:**
- ATR = $468.09
- Price = $107,007.20
- BASE = (468.09 / 107007.20) √ó 100% = **0.437%**

---

### –®–ê–ì 1b: –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –º–æ–Ω–µ—Ç—ã

```
BASE_TARGET_PCT = BASE_TARGET_PCT √ó ATR_MULTIPLIER
```

**ATR_MULTIPLIER** ‚Äî –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∏–∑ `config.yaml`:
- –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö P80 (80-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å –¥–≤–∏–∂–µ–Ω–∏–π)
- –£—á–∏—Ç—ã–≤–∞–µ—Ç, —á—Ç–æ —Ä–∞–∑–Ω—ã–µ –º–æ–Ω–µ—Ç—ã –¥–≤–∏–≥–∞—é—Ç—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä—ã –∏–∑ config.yaml:**
- BTCUSDT: `atr_multiplier: 1.0` (–±–∞–∑–æ–≤—ã–π)
- DOGEUSDT: `atr_multiplier: 1.2` (–±–æ–ª–µ–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–∞—è)

---

## üî• –®–ê–ì 2: –†–∞—Å—á–µ—Ç —Ä—ã–Ω–æ—á–Ω–æ–≥–æ –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä–∞

–ú—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å **1.0** –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:

### 2.1 VOLUME (–û–±—ä—ë–º —Ç–æ—Ä–≥–æ–≤)

```python
volume_ratio = volume_last / volume_median

if volume_ratio > 1.6:
    multiplier √ó 1.3      # –°–∏–ª—å–Ω—ã–π –æ–±—ä—ë–º ‚Üí –±–æ–ª—å—à–∏–π –∏–º–ø—É–ª—å—Å
elif volume_ratio > 1.3:
    multiplier √ó 1.15     # –£–º–µ—Ä–µ–Ω–Ω—ã–π –æ–±—ä—ë–º
elif volume_ratio < 0.7:
    multiplier √ó 0.75     # –°–ª–∞–±—ã–π –æ–±—ä—ë–º ‚Üí —Å–Ω–∏–∂–∞–µ–º —Ü–µ–ª—å
elif volume_ratio < 0.5:
    multiplier √ó 0.6      # –û—á–µ–Ω—å —Å–ª–∞–±—ã–π ‚Üí —Å–∏–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ–º
```

**–õ–æ–≥–∏–∫–∞:** –í—ã—Å–æ–∫–∏–π –æ–±—ä—ë–º = —Å–∏–ª—å–Ω—ã–π –∫–∞—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä = –±–æ–ª—å—à–µ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –æ–∂–∏–¥–∞–µ—Ç—Å—è

---

### 2.2 CVD (Cumulative Volume Delta ‚Äî –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫)

```python
cvd_threshold = config['cvd_threshold']  # –ü–æ—Ä–æ–≥ –¥–ª—è –º–æ–Ω–µ—Ç—ã
cvd_supports = (BUY –∏ CVD>0) –∏–ª–∏ (SELL –∏ CVD<0)

if cvd_supports:
    if |CVD| >= threshold √ó 1.5:
        multiplier √ó 1.4      # –û—á–µ–Ω—å —Å–∏–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫
    elif |CVD| >= threshold √ó 0.5:
        multiplier √ó 1.2      # –°–∏–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫
    elif |CVD| < threshold √ó 0.3:
        multiplier √ó 0.85     # –°–ª–∞–±—ã–π –ø–æ—Ç–æ–∫
else:
    # CVD –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç —Å–∏–≥–Ω–∞–ª—É (–æ–ø–∞—Å–Ω–æ!)
    if |CVD| >= threshold √ó 0.5:
        multiplier √ó 0.7      # –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ
```

**–õ–æ–≥–∏–∫–∞:** CVD –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫—Ç–æ –¥–æ–º–∏–Ω–∏—Ä—É–µ—Ç (–ø–æ–∫—É–ø–∞—Ç–µ–ª–∏ –∏–ª–∏ –ø—Ä–æ–¥–∞–≤—Ü—ã)

---

### 2.3 OI (Open Interest ‚Äî –æ—Ç–∫—Ä—ã—Ç—ã–π –∏–Ω—Ç–µ—Ä–µ—Å)

```python
if |oi_change| > 5_000_000 –∏–ª–∏ oi_change_pct > 0.5%:
    multiplier √ó 1.15     # –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π —Ä–æ—Å—Ç OI
elif |oi_change| > 2_000_000:
    multiplier √ó 1.08     # –£–º–µ—Ä–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç
```

**–õ–æ–≥–∏–∫–∞:** –†–æ—Å—Ç OI = –Ω–æ–≤—ã–µ –ø–æ–∑–∏—Ü–∏–∏ = —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è

---

### 2.4 VWAP (Volume Weighted Average Price ‚Äî —Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–∞—è —Ü–µ–Ω–∞)

**üîë –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ 03.11.2025):**

–¢–µ–ø–µ—Ä—å —É—á–∏—Ç—ã–≤–∞–µ—Ç **–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –∏ **–ø–æ–∑–∏—Ü–∏—é —Ü–µ–Ω—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ VWAP**:

```python
vwap_dev_pct = |price - vwap| / vwap √ó 100%

# –î–ª—è BUY —Å–∏–≥–Ω–∞–ª–æ–≤:
if BUY –∏ price < vwap –∏ dev > 1.0%:
    multiplier √ó 1.15     # ‚úÖ Mean reversion (—Ü–µ–Ω–∞ –≤–µ—Ä–Ω—ë—Ç—Å—è –∫ VWAP)
elif BUY –∏ price < vwap –∏ dev > 0.5%:
    multiplier √ó 1.08     # ‚úÖ –£–º–µ—Ä–µ–Ω–Ω–∞—è mean reversion
elif BUY –∏ price > vwap –∏ dev > 1.0%:
    multiplier √ó 0.85     # ‚ùå –ü–µ—Ä–µ–≥—Ä–µ–≤ (overextended)

# –î–ª—è SELL —Å–∏–≥–Ω–∞–ª–æ–≤ (–∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ):
if SELL –∏ price > vwap –∏ dev > 1.0%:
    multiplier √ó 1.15     # ‚úÖ Mean reversion
elif SELL –∏ price > vwap –∏ dev > 0.5%:
    multiplier √ó 1.08     # ‚úÖ –£–º–µ—Ä–µ–Ω–Ω–∞—è mean reversion
elif SELL –∏ price < vwap –∏ dev > 1.0%:
    multiplier √ó 0.85     # ‚ùå –ü–µ—Ä–µ–≥—Ä–µ–≤
```

**–õ–æ–≥–∏–∫–∞:** –£—Å–∏–ª–∏–≤–∞–µ–º —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–¥–∞ –µ—Å—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω–µ

---

### 2.5 –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä–∞

```python
# –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: —É–±—Ä–∞–Ω double-counting
# –†–∞–Ω—å—à–µ: multiplier √ó magnitude_mult (—Å—á–∏—Ç–∞–ª–∏ CVD/OI/Volume –¥–≤–∞–∂–¥—ã!)
# –°–µ–π—á–∞—Å: magnitude_mult = 1.0 (deprecated)

combined_multiplier = multiplier  # –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ —É—á–∏—Ç—ã–≤–∞–µ–º —Å–∏–ª—É

# –ü—Ä–∏–º–µ–Ω—è–µ–º –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ô –ö–ê–ü (data-driven –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è):
max_multiplier = 1.3  # –î–ª—è scalping (–±—ã–ª–æ 1.6)
max_multiplier = 1.8  # –î–ª—è intraday –º–æ–Ω–µ—Ç (–±—ã–ª–æ 2.0)

final_multiplier = min(combined_multiplier, max_multiplier)
```

**üìä –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∫–∞–ø–∞ (–∞–Ω–∞–ª–∏–∑ 863 —Å–∏–≥–Ω–∞–ª–æ–≤):**
- **Q1 (multiplier ‚â§ 1.2):** +0.40% profit, 62.9% WR ‚úÖ
- **Q4 (multiplier > 1.5):** +0.17% profit, 28.6% WR ‚ùå
- **–í—ã–≤–æ–¥:** –ù–∏–∑–∫–∏–π –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä = –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

## üéØ –®–ê–ì 3: –†–∞—Å—á–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π

```python
# –¶–µ–ª–µ–≤—ã–µ –∑–æ–Ω—ã:
target_min = BASE_TARGET_PCT √ó 0.5 √ó final_multiplier
target_max = BASE_TARGET_PCT √ó 1.0 √ó final_multiplier

# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ (–≥–∞—Ä–∞–Ω—Ç–∏–∏):
target_min = max(0.2%, target_min)
target_max = max(0.4%, target_max)
```

**–õ–æ–≥–∏–∫–∞:**
- `target_min` (50% –æ—Ç –±–∞–∑—ã) ‚Äî –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è —Ü–µ–ª—å
- `target_max` (100% –æ—Ç –±–∞–∑—ã) ‚Äî –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Ü–µ–ª—å

---

## üìù –ü–û–õ–ù–´–ô –ü–†–ò–ú–ï–† –†–ê–°–ß–Å–¢–ê

### –°—Ü–µ–Ω–∞—Ä–∏–π: BUY —Å–∏–≥–Ω–∞–ª –¥–ª—è BTCUSDT

**–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- Price = $107,000
- ATR = $468 ‚Üí BASE = 0.437%
- ATR_multiplier = 1.0
- Volume ratio = 1.7 (–≤—ã—Å–æ–∫–∏–π –æ–±—ä—ë–º)
- CVD = +10,500,000 USDT (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç BUY)
- CVD threshold = 5,000,000
- OI change = +8,000,000
- VWAP = $106,850 (price > vwap –Ω–∞ 0.14%)

**–†–∞—Å—á—ë—Ç –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä–∞:**

```
–ù–∞—á–∞–ª–æ: multiplier = 1.0

1. Volume (1.7 > 1.6):
   1.0 √ó 1.3 = 1.3

2. CVD (+10.5M > threshold√ó1.5 = 7.5M):
   1.3 √ó 1.4 = 1.82

3. OI (+8M > 5M):
   1.82 √ó 1.15 = 2.093

4. VWAP (BUY, price>vwap –Ω–∞ 0.14% < 0.5%):
   –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π = 2.093

5. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–∞–ø–∞ (max=1.3 –¥–ª—è scalping):
   final_multiplier = min(2.093, 1.3) = 1.3
```

**–§–∏–Ω–∞–ª—å–Ω—ã–µ —Ü–µ–ª–∏:**

```
BASE = 0.437%

target_min = 0.437% √ó 0.5 √ó 1.3 = 0.28%
target_max = 0.437% √ó 1.0 √ó 1.3 = 0.57%
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è BTC @ $107,000:**
- üéØ Min target: $107,000 √ó 1.0028 = **$107,299** (+$299)
- üéØ Max target: $107,000 √ó 1.0057 = **$107,610** (+$610)

---

## ‚è± –í–†–ï–ú–Ø –ñ–ò–ó–ù–ò –°–ò–ì–ù–ê–õ–ê (TTL)

### –§–æ—Ä–º—É–ª–∞ –±–∞–∑–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞

```python
# –ù–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏:
atr_pct = (ATR / price) √ó 100%

if atr_pct >= 1.5%:
    base_interval = 25 –º–∏–Ω—É—Ç   # –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
elif atr_pct >= 1.0%:
    base_interval = 35 –º–∏–Ω—É—Ç   # –í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
else:
    base_interval = 45 –º–∏–Ω—É—Ç   # –ù–æ—Ä–º–∞–ª—å–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
```

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ TTL

```python
ttl_multiplier = 1.0

# Volume –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–≤–µ—Å 0.4):
if volume_ratio > 1.0:
    # –í—ã—Å–æ–∫–∏–π –æ–±—ä—ë–º = –±—ã—Å—Ç—Ä–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ = –∫–æ—Ä–æ—á–µ TTL
    ttl_mult += -min((volume_ratio - 1.0) √ó 0.25, 0.4)
else:
    # –ù–∏–∑–∫–∏–π –æ–±—ä—ë–º = –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏
    ttl_mult += min((1.0 - volume_ratio) √ó 0.3, 0.2)

# OI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–≤–µ—Å 0.35):
if OI —Ä–∞—Å—Ç—ë—Ç –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–∞:
    ttl_mult += 0.35  # –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ = –ø—Ä–æ–¥–ª–∏—Ç—å
elif OI —Å–∏–ª—å–Ω–æ –ø—Ä–æ—Ç–∏–≤:
    ttl_mult -= 0.2   # –°–æ–∫—Ä–∞—Ç–∏—Ç—å

# CVD –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–≤–µ—Å 0.25):
if CVD –æ—á–µ–Ω—å —Å–∏–ª—å–Ω—ã–π (>threshold):
    ttl_mult -= 0.25  # –ë—ã—Å—Ç—Ä–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ = –∫–æ—Ä–æ—á–µ

# –ñ–Å–°–¢–ö–ò–ï –ö–ê–ü–´ (data-driven):
ttl_minutes = base_interval √ó ttl_multiplier
ttl_minutes = max(10, min(30, ttl_minutes))  # Scalping: 10-30 –º–∏–Ω
```

**üìä –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∫–∞–ø–æ–≤:**
- –°–∏–≥–Ω–∞–ª—ã <10 –º–∏–Ω ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π
- –°–∏–≥–Ω–∞–ª—ã >30 –º–∏–Ω ‚Äî –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π —Ä–∏—Å–∫, –Ω–∏–∂–µ win rate

---

## üîÑ INTRADAY –ú–û–ù–ï–¢–´ (YFI, LUMIA, ANIME)

–î–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –º–æ–Ω–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**:

```python
# –ò–∑ config.yaml:
targets = [1.5, 3.0]  # –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ % —Ü–µ–ª–∏

target_min = 1.5%
target_max = 3.0%

# TTL: 60-120 –º–∏–Ω—É—Ç (1-2 —á–∞—Å–∞)
```

**–õ–æ–≥–∏–∫–∞:** –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç —á–∞—Å—Ç—ã—Ö –ø–µ—Ä–µ—Ä–∞—Å—á—ë—Ç–æ–≤

---

## üîç –ö–õ–Æ–ß–ï–í–´–ï –û–¢–õ–ò–ß–ò–Ø –û–¢ –°–¢–ê–†–û–ô –í–ï–†–°–ò–ò

### ‚ùå –ë–´–õ–û (–¥–æ 03.11.2025):
1. **Double-counting:** multiplier √ó magnitude_mult (CVD/OI/Volume —Å—á–∏—Ç–∞–ª–∏—Å—å –¥–≤–∞–∂–¥—ã!)
2. **VWAP –±–µ–∑ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** –≤—Å–µ–≥–¥–∞ –±—É—Å—Ç –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ (–¥–∞–∂–µ –¥–ª—è –ø–µ—Ä–µ–≥—Ä–µ—Ç—ã—Ö)
3. **–°–ª–∞–±—ã–µ penalty:** weak volume √ó 0.9 (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
4. **–í—ã—Å–æ–∫–∏–µ –∫–∞–ø—ã:** scalping=1.6, intraday=2.0
5. **TTL –±–µ–∑ –ª–∏–º–∏—Ç–æ–≤:** 5-‚àû –º–∏–Ω—É—Ç

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Magnitude correlation = **-0.12** (—á–µ–º –≤—ã—à–µ magnitude, —Ç–µ–º —Ö—É–∂–µ!)

---

### ‚úÖ –°–ï–ô–ß–ê–° (–ø–æ—Å–ª–µ 03.11.2025):
1. **Single multiplier:** magnitude_mult=1.0 (—É–±—Ä–∞–Ω double-counting)
2. **VWAP –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π:** boost —Ç–æ–ª—å–∫–æ –¥–ª—è mean-reversion, penalty –¥–ª—è –ø–µ—Ä–µ–≥—Ä–µ–≤–∞
3. **–°–∏–ª—å–Ω—ã–µ penalty:** weak volume √ó 0.6-0.75, opposing CVD √ó 0.7
4. **–ù–∏–∑–∫–∏–µ –∫–∞–ø—ã:** scalping=1.3, intraday=1.8 (data-driven)
5. **TTL –∫–∞–ø—ã:** 10-30 –º–∏–Ω—É—Ç (scalping), 60-120 (intraday)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Magnitude correlation ‚Üí –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è (0.15-0.30)

---

## üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –í–ê–õ–ò–î–ê–¶–ò–ò

**Baseline (–¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π):**
- 863 –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Å–∏–≥–Ω–∞–ª–∞
- Magnitude correlation: **-0.12** ‚ùå
- Very High magnitude: -0.21% profit, 20% WR
- Low magnitude: +0.40% profit, 62.7% WR
- SELL target_min achievability: —Ç–æ–ª—å–∫–æ 14.9%

**–ö–≤–∞—Ä—Ç–∏–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä–∞:**
- Q1 (‚â§1.2): +0.40% profit, **62.9% WR** ‚úÖ
- Q2 (1.2-1.35): +0.31% profit, 55.6% WR
- Q3 (1.35-1.5): +0.24% profit, 42.3% WR
- Q4 (>1.5): +0.17% profit, **28.6% WR** ‚ùå

**–í—ã–≤–æ–¥:** –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –õ–£–ß–®–ï!

---

## üéØ NEXT VALIDATION

–ü–æ—Å–ª–µ 24-48 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã –Ω–æ–≤–æ–π —Ñ–æ—Ä–º—É–ª—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å:

```bash
python validate_formulas.py
```

**–û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- Magnitude correlation: -0.12 ‚Üí +0.15...+0.30
- SELL target_min achievability: 14.9% ‚Üí 40-50%
- Overall win rate: —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è
- Profit factor: —Ä–æ—Å—Ç –∑–∞ —Å—á—ë—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö —Ü–µ–ª–µ–π

---

## üìö RELATED FILES

- `smart_signal.py` ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ (—Ñ—É–Ω–∫—Ü–∏—è `calculate_price_targets`)
- `config.yaml` ‚Äî –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã
- `validate_formulas.py` ‚Äî –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- `optimize_coefficients.py` ‚Äî –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞–ø–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
- `effectiveness_log.csv` ‚Äî –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤

---

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-03  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Deployed, –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–º –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ (PASS)  
**–ê–≤—Ç–æ—Ä –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** Statistical validation + data-driven optimization
